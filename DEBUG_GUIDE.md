# üêõ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ç–ª–∞–¥–∫–µ –ª–∏–º–∏—Ç–∞ –∫–∏—Ç–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–õ–∏–º–∏—Ç –∫–∏—Ç–æ–≤ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ PostgreSQL –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –¥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (300) –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–∞–Ω–¥–µ /limit
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –≤–Ω—É—Ç—Ä–∏ db_lock –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ save_db()
- –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—à–∞–≥–æ–≤–æ

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ init_db()
- –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ –∏–∑ –ë–î –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –§–æ—Ä–º–∞—Ç: `üîç init_db: –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –∏–∑ –ë–î = {–∑–Ω–∞—á–µ–Ω–∏–µ}`

### 3. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ save_db()
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ pool –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- –í –º–µ–Ω—é "My Wallets" —Ç–µ–ø–µ—Ä—å —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –≠—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å "–∑–∞–≤–∏—Å–∞—é—â–∏–º–∏" —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–Ω—é

### 5. –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `/debug_limit` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–∏–º–∏—Ç –≤ –ø–∞–º—è—Ç–∏ –∏ –≤ PostgreSQL
- `/set_limit_test {–∑–Ω–∞—á–µ–Ω–∏–µ}` - —Ç–µ—Å—Ç–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–∏–º–∏—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è owner)

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```
/debug_limit
```
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ –∏ –≤ –ë–î. –ï—Å–ª–∏ –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è - –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏.

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ª–∏–º–∏—Ç–∞
```
/limit 1000
```
–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üîç /limit: –≤–Ω—É—Ç—Ä–∏ db_lock –∑–Ω–∞—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ = 1000.0
‚úÖ –ë–î —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
üîç /limit: –ø–æ—Å–ª–µ save_db, –∑–Ω–∞—á–µ–Ω–∏–µ –≤ db = 1000.0
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```
/debug_limit
```
–ó–Ω–∞—á–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ –∏ –ë–î –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ (1000).

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ Railway –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å—Ç–∞—Ä—Ç–∞:
```
üîç init_db: –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –∏–∑ –ë–î = 1000.0
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
```
/start  # –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ª–∏–º–∏—Ç 1000
/debug_limit  # –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ï—Å–ª–∏ "‚úÖ –ë–î —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞" –Ω–µ—Ç –≤ –ª–æ–≥–∞—Ö
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ PostgreSQL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DATABASE_URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ pool —Å–æ–∑–¥–∞–µ—Ç—Å—è (–ª–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ)

### –ï—Å–ª–∏ –ª–∏–º–∏—Ç –≤ –ë–î –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø–∞–º—è—Ç–∏
- save_db() –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ PostgreSQL
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/set_limit_test` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ª–∏–º–∏—Ç —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
- –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –Ω–∞ Railway
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

## –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
–ö–ª—é—á–µ–≤—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã:
- `üîç /limit: –≤–Ω—É—Ç—Ä–∏ db_lock –∑–Ω–∞—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ`
- `‚úÖ –ë–î —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞`
- `üîç /limit: –ø–æ—Å–ª–µ save_db, –∑–Ω–∞—á–µ–Ω–∏–µ –≤ db`
- `üîç init_db: –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –∏–∑ –ë–î`
- `üîç get_status_text: –∑–∞–≥—Ä—É–∂–µ–Ω limit_usd`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
–î–ª—è —á–∏—Å—Ç–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```
/set_limit_test 2000  # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ª–∏–º–∏—Ç 2000
/debug_limit         # –ø–æ–∫–∞–∂–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
```
